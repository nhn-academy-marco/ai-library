# 03. 요약 및 재요약 전략

## 1. 긴 문서의 한계 극복

도서의 전체 내용이나 방대한 양의 검색 결과를 한 번에 LLM에 넣는 것은 불가능하거나 비효율적입니다.

### Map-Reduce 전략
1. **Map**: 각 문서를 개별적으로 요약하거나 핵심 키워드를 추출합니다.
2. **Reduce**: 요약된 결과물들을 모아서 최종적인 응답을 생성합니다.

### 재요약 (Refine) 전략
* 첫 번째 문서의 요약본을 만들고, 두 번째 문서를 읽으면서 기존 요약본을 업데이트해 나가는 방식입니다.
* 점진적으로 정보가 보강되므로 문맥의 흐름을 유지하기에 좋습니다.

## 2. 계층적 요약 (Hierarchical Summarization)

* 대용량 텍스트를 바로 임베딩하기보다, 섹션별 요약 → 전체 요약의 계층 구조를 만들어 검색 시 활용합니다.
* 사용자의 질문 의도에 따라 요약본을 검색할지, 원문을 검색할지 선택하여 효율을 높입니다.

## 3. 학습 포인트

* LLM 호출 횟수를 조절하여 품질과 비용 사이의 균형을 맞추는 방법을 익힙니다.
* 복잡한 데이터를 처리하기 위한 워크플로우 설계 능력을 학습합니다.
