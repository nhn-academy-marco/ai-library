spring.application.name=nhn-academy-ai-library
# 활성 프로필 설정 (local, dev, prod 중 선택)
# 로컬 개발: 개발 서버: dev, 운영 서버: prod
spring.profiles.active=dev

# ==============================
# Init Book Data
# ==============================
init.book_file=data/init/BOOK_DB_202112.csv
init.enable=false
init.batch_size=1000

# ===============================
# Datasource (DBCP2)
# ===============================
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://s3.java21.net:8000/library?stringtype=unspecified
spring.datasource.username=library
spring.datasource.password=library123!

spring.datasource.type=org.apache.commons.dbcp2.BasicDataSource

# ===============================
# DBCP2 pool settings
# ===============================
spring.datasource.dbcp2.initial-size=5
spring.datasource.dbcp2.max-total=5
spring.datasource.dbcp2.max-idle=5
spring.datasource.dbcp2.min-idle=5

spring.datasource.dbcp2.test-on-borrow=true
spring.datasource.dbcp2.validation-query=SELECT 1

spring.datasource.dbcp2.pool-prepared-statements=true
spring.datasource.dbcp2.max-open-prepared-statements=100

# ===============================
# JPA / Hibernate
# ===============================
spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ===============================
# Hibernate batch insert
# ===============================
spring.jpa.properties.hibernate.jdbc.batch_size=1000
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# ===============================
# Spring AI
# ===============================
spring.ai.openai.base-url=https://emb.java21.net
spring.ai.openai.api-key=dummy
spring.ai.openai.embedding.options.model=bge-m3


# ===============================
# Google gemini
# ===============================
spring.ai.google.genai.api-key=AIzaSyD2_TsJqwbaTGPbtBOMBY117WJfAYwZG58
spring.ai.google.genai.chat.options.model=gemini-2.0-flash
spring.ai.google.genai.chat.options.temperature=0.3
spring.ai.google.genai.project-id=unused

# ===============================
# Ollama
# ===============================
spring.ai.ollama.base-url=http://ollama.java21.net
spring.ai.ollama.chat.options.model=llama3-korean-blossom
spring.ai.ollama.chat.options.temperature=0.3
# spring.ai.ollama.chat.options.model=gemma2

# AI Model 선택 (gemini, ollama)
spring.ai.selected-model=ollama

# ===============================
# Scheduler settings
# ===============================
scheduler.embedding.enabled=true

# ===============================
# Cache settings
# ===============================
# Cache TTL in minutes (default 30 min)
cache.ttl.minutes=30

# ===============================
# Library Information Naru API
# ===============================
library.api.url=http://data4library.kr/api
library.api.key=356634a513872ef340a52007c03c19603a7a3908165d1a9ab46b79a5afd6b83d
library.api.timeout=5000
library.api.cache-enabled=true
